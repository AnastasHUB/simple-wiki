<% title = 'Connexion'; %>
<h1>Connexion</h1>
<% if (typeof bannedAccountInfo !== 'undefined' && bannedAccountInfo) { %>
  <div class="card alert alert-error">
    <p><strong>Votre compte est suspendu.</strong></p>
    <% if (bannedAccountInfo.reason) { %>
      <p>Motif&nbsp;: <%= bannedAccountInfo.reason %></p>
    <% } %>
    <% if (bannedAccountInfo.bannedAt) { %>
      <p>Depuis le <%= new Date(bannedAccountInfo.bannedAt).toLocaleString('fr-FR') %>.</p>
    <% } %>
  </div>
<% } %>
<% if (typeof error !== 'undefined') { %>
  <div class="card"><%= error %></div>
<% } %>
<form method="post" action="/login">
  <%- include('partials/csrf_field') %>
  <label>Utilisateur</label>
  <input type="text" name="username" required />
  <label>Mot de passe</label>
  <input type="password" name="password" required />
  <div class="actions">
    <button class="btn success" data-icon="üîë">Se connecter</button>
    <button class="btn secondary" type="button" data-passkey-login data-icon="üîê">
      Se connecter avec une passkey
    </button>
  </div>
</form>
<p class="form-help text-muted">
  L'utilisation d'une passkey n√©cessite de saisir votre nom d'utilisateur pour r√©cup√©rer vos cl√©s enregistr√©es.
</p>
<% if (typeof registrationEnabled === 'undefined' || registrationEnabled) { %>
  <p class="form-help">
    Pas encore de compte&nbsp;? <a href="/register">Cr√©er un compte</a>.
  </p>
<% } %>
<p class="form-help text-muted" data-passkey-helper hidden>
  Votre navigateur ne semble pas supporter les passkeys. Utilisez un appareil compatible pour activer cette option.
</p>
