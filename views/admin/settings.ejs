<% title='Param√®tres'; %>
<h1>Param√®tres</h1>
<form method="post" class="card">
  <label>Nom du wiki</label>
  <input type="text" name="wiki_name" value="<%= s.wiki_name %>" />
  <label>Logo URL</label>
  <input type="url" name="logo_url" value="<%= s.logo_url %>" />
  <label>Discord Webhook Admin</label>
  <input type="url" name="admin_webhook_url" value="<%= s.admin_webhook_url %>" />
  <label>Discord Webhook Feed</label>
  <input type="url" name="feed_webhook_url" value="<%= s.feed_webhook_url %>" />
  <label>Pied de page</label>
  <input type="text" name="footer_text" value="<%= s.footer_text %>" />
  <label>R√©f√©rentiel GitHub (owner/repo)</label>
  <input
    type="text"
    name="github_repo"
    value="<%= s.github_repo %>"
    placeholder="organisation/projet"
    autocomplete="off"
    spellcheck="false"
  />
  <p class="text-muted form-hint">
    Exemple&nbsp;: <code>openai/simple-wiki</code>. Laissez vide pour d√©sactiver le changelog public.
  </p>
  <label>Source du changelog</label>
  <select name="changelog_source">
    <% const sourceValue = (s.changelog_source || 'commits').toLowerCase(); %>
    <% const sourceChoices = Array.isArray(changelogSourceOptions) && changelogSourceOptions.length ? changelogSourceOptions : ['commits', 'pulls']; %>
    <% sourceChoices.forEach((option) => { %>
      <% const value = String(option).toLowerCase(); %>
      <option value="<%= value %>" <%= sourceValue === value ? 'selected' : '' %>>
        <%= value === 'pulls' ? 'Pull requests' : 'Commits' %>
      </option>
    <% }) %>
  </select>
  <p class="text-muted form-hint">
    Choisissez si le changelog doit lister les commits individuels ou les pull requests fusionn√©es.
  </p>
  <div class="actions"><button class="btn success" data-icon="üíæ">Enregistrer</button></div>
</form>
