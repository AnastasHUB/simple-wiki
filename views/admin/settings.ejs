<% title='Param√®tres'; %>
<h1>Param√®tres</h1>
<form method="post" class="card">
  <%- include('../partials/csrf_field') %>
  <label>Nom du wiki</label>
  <input type="text" name="wiki_name" value="<%= s.wiki_name %>" />
  <label>Logo URL</label>
  <input type="url" name="logo_url" value="<%= s.logo_url %>" />
  <label>Discord Webhook Admin</label>
  <input type="url" name="admin_webhook_url" value="<%= s.admin_webhook_url %>" />
  <label>Discord Webhook Feed</label>
  <input type="url" name="feed_webhook_url" value="<%= s.feed_webhook_url %>" />
  <label>Pied de page</label>
  <input type="text" name="footer_text" value="<%= s.footer_text %>" />
  <label>D√©p√¥t GitHub pour le changelog</label>
  <input
    type="text"
    name="github_repo"
    placeholder="owner/repo ou URL https://github.com/‚Ä¶"
    value="<%= s.github_repo %>"
  />
  <small class="field-hint"
    >Laissez vide pour d√©sactiver l'onglet Changelog. Le d√©p√¥t doit √™tre public.</small
  >
  <label>Source du changelog</label>
  <select name="github_changelog_mode">
    <option value="commits" <%= s.github_changelog_mode === 'commits' ? 'selected' : '' %>>
      Commits
    </option>
    <option value="pulls" <%= s.github_changelog_mode === 'pulls' ? 'selected' : '' %>>
      Pull requests
    </option>
  </select>
  <fieldset class="mt-md">
    <legend>Vente de codes premium</legend>
    <p class="text-muted">
      Configurez ici l'achat automatique de codes premium via Stripe.
    </p>
    <label>Cl√© publique Stripe</label>
    <input
      type="text"
      name="stripe_publishable_key"
      value="<%= s.stripe_publishable_key || '' %>"
    />
    <label>Identifiant de prix Stripe</label>
    <input
      type="text"
      name="premium_checkout_price_id"
      value="<%= s.premium_checkout_price_id || '' %>"
      placeholder="price_..."
    />
    <label>Dur√©e du code premium (en jours)</label>
    <input
      type="number"
      min="0"
      step="1"
      name="premium_checkout_duration_days"
      value="<%= s.premium_checkout_duration_days || '' %>"
    />
    <p class="field-hint">
      Laissez l'identifiant de prix vide pour d√©sactiver l'achat. Si un prix est
      d√©fini, la dur√©e doit √™tre un entier strictement positif (par d√©faut&nbsp;:
      30 jours).
    </p>
    <p class="field-hint">
      La cl√© secr√®te Stripe doit √™tre fournie via la variable d'environnement
      <code>STRIPE_SECRET_KEY</code> sur le serveur.
    </p>
  </fieldset>
  <div class="actions"><button class="btn success" data-icon="üíæ">Enregistrer</button></div>
</form>
