<% title = page ? 'Ã‰diter' : 'Nouvelle page'; %>
<h1><%= title %></h1>
<form method="post">
  <label>Titre</label>
  <input type="text" name="title" value="<%= page ? page.title : '' %>" required />
  <label>Contenu (liens [[internes]])</label>
  <textarea name="content" id="contentField" rows="18" required hidden><%- page ? page.content : '' %></textarea>
  <div class="html-editor-shell">
    <div class="html-editor-toolbar" id="editorToolbar">
      <span class="ql-formats">
        <select class="ql-header" aria-label="Niveau de titre">
          <option selected></option>
          <option value="1">Titre principal</option>
          <option value="2">Titre moyen</option>
          <option value="3">Sous-titre</option>
        </select>
        <button class="ql-bold" aria-label="Gras"></button>
        <button class="ql-italic" aria-label="Italique"></button>
        <button class="ql-underline" aria-label="SoulignÃ©"></button>
        <button class="ql-strike" aria-label="BarrÃ©"></button>
      </span>
      <span class="ql-formats">
        <button class="ql-list" value="ordered" aria-label="Liste numÃ©rotÃ©e"></button>
        <button class="ql-list" value="bullet" aria-label="Liste Ã  puces"></button>
        <button class="ql-list" value="check" aria-label="Liste de tÃ¢ches"></button>
        <button class="ql-indent" value="-1" aria-label="Diminuer le retrait"></button>
        <button class="ql-indent" value="+1" aria-label="Augmenter le retrait"></button>
      </span>
      <span class="ql-formats">
        <button class="ql-script" value="sub" aria-label="Indice"></button>
        <button class="ql-script" value="super" aria-label="Exposant"></button>
        <button class="ql-blockquote" aria-label="Bloc de citation"></button>
        <button class="ql-code-block" aria-label="Bloc de code"></button>
        <button type="button" class="ql-divider" aria-label="SÃ©paration"></button>
      </span>
      <span class="ql-formats">
        <button class="ql-link" aria-label="InsÃ©rer un lien"></button>
        <button class="ql-image" aria-label="InsÃ©rer une image"></button>
        <button class="ql-clean" aria-label="Effacer la mise en forme"></button>
      </span>
    </div>
    <div
      class="html-editor"
      data-html-editor
      data-target="#contentField"
      data-toolbar="#editorToolbar"
      data-upload-endpoint="/admin/uploads"
      aria-label="Ã‰diteur de contenu"
    ></div>
  </div>
  <p class="editor-hint">
    Astuce : utilisez <code>[[Titre de page]]</code> pour crÃ©er des liens internes rapides.
  </p>
  <label>Tags (sÃ©parÃ©s par des virgules)</label>
  <input type="text" name="tags" value="<%= tags %>" />
  <div class="actions">
    <button class="btn success" data-icon="ğŸ’¾" type="submit">Enregistrer</button>
  </div>
</form>

