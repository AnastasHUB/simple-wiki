<% title = page ? '√âditer' : 'Nouvelle page'; %>
<h1><%= title %></h1>
<form method="post">
  <label>Titre</label>
  <input type="text" name="title" value="<%= page ? page.title : '' %>" required />
  <label>Contenu (liens [[internes]])</label>
  <textarea name="content" id="contentField" rows="18" required hidden><%- page ? page.content : '' %></textarea>
  <div class="html-editor-shell">
    <div class="html-editor-toolbar" id="editorToolbar">
      <span class="ql-formats">
        <select class="ql-header" aria-label="Niveau de titre">
          <option selected></option>
          <option value="1">Titre principal</option>
          <option value="2">Titre moyen</option>
          <option value="3">Sous-titre</option>
        </select>
        <button class="ql-bold" aria-label="Gras"></button>
        <button class="ql-italic" aria-label="Italique"></button>
        <button class="ql-underline" aria-label="Soulign√©"></button>
        <button class="ql-strike" aria-label="Barr√©"></button>
        <button class="ql-code" aria-label="Code en ligne"></button>
      </span>
      <span class="ql-formats">
        <button class="ql-list" value="ordered" aria-label="Liste num√©rot√©e"></button>
        <button class="ql-list" value="bullet" aria-label="Liste √† puces"></button>
        <button class="ql-list" value="check" aria-label="Liste de t√¢ches"></button>
        <button class="ql-indent" value="-1" aria-label="Diminuer le retrait"></button>
        <button class="ql-indent" value="+1" aria-label="Augmenter le retrait"></button>
      </span>
      <span class="ql-formats">
        <button class="ql-script" value="sub" aria-label="Indice"></button>
        <button class="ql-script" value="super" aria-label="Exposant"></button>
        <button class="ql-blockquote" aria-label="Bloc de citation"></button>
        <button class="ql-code-block" aria-label="Bloc de code"></button>
        <select class="ql-code-language" aria-label="Langage du bloc de code">
          <option value="">D√©tection auto</option>
          <option value="bash">Bash</option>
          <option value="c">C</option>
          <option value="cpp">C++</option>
          <option value="csharp">C#</option>
          <option value="css">CSS</option>
          <option value="go">Go</option>
          <option value="html">HTML</option>
          <option value="java">Java</option>
          <option value="javascript">JavaScript</option>
          <option value="json">JSON</option>
          <option value="kotlin">Kotlin</option>
          <option value="markdown">Markdown</option>
          <option value="php">PHP</option>
          <option value="python">Python</option>
          <option value="ruby">Ruby</option>
          <option value="rust">Rust</option>
          <option value="sql">SQL</option>
          <option value="swift">Swift</option>
          <option value="typescript">TypeScript</option>
          <option value="yaml">YAML</option>
        </select>
        <button type="button" class="ql-divider" aria-label="S√©paration">‚Äî</button>
      </span>
      <span class="ql-formats">
        <button class="ql-link" aria-label="Ins√©rer un lien"></button>
        <button class="ql-image" aria-label="Ins√©rer une image"></button>
        <button class="ql-clean" aria-label="Effacer la mise en forme"></button>
      </span>
    </div>
    <div
      class="html-editor"
      data-html-editor
      data-target="#contentField"
      data-toolbar="#editorToolbar"
      data-upload-endpoint="/admin/uploads"
      aria-label="√âditeur de contenu"
    ></div>
  </div>
  <p class="editor-hint">
    Astuce : utilisez <code>[[Titre de page]]</code> pour cr√©er des liens internes rapides.
  </p>
  <label>Tags (s√©par√©s par des virgules)</label>
  <input type="text" name="tags" value="<%= tags %>" />
  <div class="actions">
    <button class="btn success" data-icon="üíæ" type="submit">Enregistrer</button>
  </div>
</form>

